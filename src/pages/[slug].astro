---
import BlogWrap from "../layouts/BlogWrap.astro";

export async function getStaticPaths() {
  const posts = await Astro.glob("../content/*.md");

  return posts.map(({ Content, file, frontmatter: { title, coverImage } }) => {
    const slug = file.split("/").at(-1).slice(0, -3);

    return {
      params: { slug },
      props: { Content, title, coverImage },
    };
  });
}

const { Content, title, coverImage } = Astro.props;
const { slug } = Astro.params;

const crumbList = [
  {
    name: "Home",
    link: "/",
  },
  {
    name: "Blog",
    link: "/blog/",
  },
  {
    name: title,
    link: slug,
  },
];
---

<BlogWrap>
  <h1 class="title">{title}</h1>
  <div class="container">
    <Content class="content" />
  </div>
</BlogWrap>

<style lang="scss">
  .title {
    padding-top: var(--size-12);
  }
  .container {
    margin-top: var(--size-8);
  }
</style>
