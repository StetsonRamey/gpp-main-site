---
import { Image, Picture } from "@astrojs/image/components";
import ryanAndMario from "../assets/ryanAndMario.jpg";
import Button from "../components/Button.astro";

const {
  localSuper = "About us",
  localh2 = "100% Local Kansas City House Painting Services",
  localp = "Our team only works on projects in the Kansas city area and have been doing so for over a decade. With that kind of experience, there's very few things we can't handle. When Great Plains Painting started we decided to operate differently. We believe in easy, clear communication, no surprises pricing, and quality execution of our work.",
  localButton = "Our story",
  localBackground = ryanAndMario,
  button = true,
  buttonLink = "/about-us/",
} = Astro.props;
---

<section class="local">
  <div class="content-wrap center flow">
    {localSuper && <p class="upper">{localSuper}</p>}
    <h2 class="">{localh2}</h2>
    <p class="" style="--flow-space: 2rem" set:html={localp} />
    <div class="btn-wrap" style="--flow-space: 3rem">
      {button && <Button text={localButton} link={buttonLink} style="primary" />}
    </div>
  </div>
  <div class="pic-container">
    <Picture src={localBackground} alt="2 people discussing a painting project" formats={['avif','webp','jpeg']} widths={[400,800,1200,2400]} sizes="100vw" />
  </div>
  <!-- <Image src={localBackground} width={900} format="avif" alt="2 people discussing a painting project" /> -->
</section>

<style lang="scss">
  $height: 60vh;
  $max-height: 800px;

  .content-wrap {
    max-width: 70ch;
    padding-inline: var(--size-2);
    padding-block: var(--size-4);
  }

  .local {
    display: grid;
    // height: $height;
    max-height: $max-height;
    grid-template-areas: "hero";
    color: hsl(var(--white));

    h2 {
      color: var(--white);
    }

    * {
      grid-area: hero;
    }

    place-items: center;
    background: linear-gradient(
      180deg,
      hsl(0deg 0% 0% / 0.7) 0%,
      hsl(0deg 0% 0% / 0.7) 16%,
      hsl(0deg 0% 0% / 0.7) 24%,
      hsl(0deg 0% 0% / 0.6) 30%,
      hsl(0deg 0% 0% / 0.6) 35%,
      hsl(0deg 0% 0% / 0.6) 40%,
      hsl(0deg 0% 0% / 0.6) 45%,
      hsl(0deg 0% 0% / 0.6) 50%,
      hsl(0deg 0% 0% / 0.6) 55%,
      hsl(0deg 0% 0% / 0.6) 60%,
      hsl(0deg 0% 0% / 0.6) 65%,
      hsl(0deg 0% 0% / 0.6) 70%,
      hsl(0deg 0% 0% / 0.6) 76%,
      hsl(0deg 0% 0% / 0.6) 84%,
      hsl(0deg 0% 0% / 0.6) 100%
    );

    .pic-container {
      z-index: -1;
      height: 100%;
      width: 100%;
      overflow: hidden;
      object-fit: cover;
    }

    img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: top;
    }

    .btn-wrap {
      display: flex;
      justify-content: center;
    }
  }
</style>
